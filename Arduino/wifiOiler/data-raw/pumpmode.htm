<!DOCTYPE html><html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="validator:url" content="https://validator.w3.org/nu/">
<meta name="validator:date" content="2023-03-13">
<title>Set Pump Mode</title><link rel="stylesheet" href="wifiOiler.css">
<script>
  const $ = function(id){return document.getElementById(id);}
  const apmBtn=['Normal','Regen','Offroad','Permanent','AUS'];
  cUrl = "/pumpmode";b=null;
	function mode(m){
		m=(m==null?'':'?mode='+m);
		xhr=new XMLHttpRequest();
    xhr.open("GET",cUrl+m,true);
    xhr.onreadystatechange = function(){
  		if (xhr.readyState == 4){
  			if (b!=null) b.removeAttribute('class');
				b=$(xhr.responseText); // Mode wird als Text zurÃ¼ckgegeben (s. Button IDs)
				if (b!=null) b.setAttribute('class','activeB');}};
		xhr.send(null);}
	function cB(m){
		var b=document.createElement('a');
		// b.setAttribute('class','myButton');
		b.appendChild(document.createTextNode(m));
		b.id=m;
		b.onclick= function(){mode(m);};
		var o=$('buttons');
		if (o!=null) o.appendChild(b);
	}
document.addEventListener("DOMContentLoaded", (()=>{apmBtn.forEach(function(m){cB(m);mode()})}));
</script>
<body>
	<h2>Modus Pumpe</h2>
	<div id='buttons'></div>&nbsp;
	<a onclick='history.back();'>Zur&uuml;ck</a>
</div>
</body></html>