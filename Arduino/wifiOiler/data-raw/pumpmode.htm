<!DOCTYPE html><html lang="de">
<head>
	<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Set Pump Mode</title><link rel="stylesheet" href="wifiOiler.css">
<script>
  const apmBtn=['Normal','Regen','Offroad','Permanent','AUS'];
  cUrl = "/pumpmode";b=null;
	function mode(m){
		m=(m==null?'':'?mode='+m);
		xhr=new XMLHttpRequest();
    xhr.open("GET",cUrl+m,true);
    xhr.onreadystatechange = function(){
  		if (xhr.readyState == 4){
  			if (b!=null) b.setAttribute('class','myButton');
				b=document.getElementById(xhr.responseText); // Mode wird als Text zurÃ¼ckgegeben (s. Button IDs)
				if (b!=null) b.setAttribute('class','myButton myAButton');}};
		xhr.send(null);}
	function cB(m){
		var b=document.createElement('button');b.setAttribute('class','myButton');
		b.appendChild(document.createTextNode(m));b.id=m;b.onclick= function(){mode(m);};
		var o=document.getElementById('buttons');if (o!=null) o.appendChild(b);}
document.addEventListener("DOMContentLoaded", (()=>{apmBtn.forEach(function(m){cB(m);mode()})}));
</script>
<div class="flex"><h2>Modus Pumpe</h2><div id='buttons' class='flex'></div>&nbsp;
	<button class="myButton" onclick='history.back();'>Zur&uuml;ck</button>
</div></body></html>